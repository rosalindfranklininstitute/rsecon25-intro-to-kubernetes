
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../lesson0-kubernetes-dashboard/">
      
      
        <link rel="next" href="../lesson2-kubechaos-update/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.19">
    
    
      
        <title>Lesson 1: Your First Deployment - RSECon25 Workshop- Deploying a Web Application with Kubernetes</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.7e37652d.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#lesson-1-your-first-deployment" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="RSECon25 Workshop- Deploying a Web Application with Kubernetes" class="md-header__button md-logo" aria-label="RSECon25 Workshop- Deploying a Web Application with Kubernetes" data-md-component="logo">
      
  <img src="../assets/CN-SIG-logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            RSECon25 Workshop- Deploying a Web Application with Kubernetes
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Lesson 1: Your First Deployment
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/rosalindfranklininstitute/rsecon25-intro-to-kubernetes" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="RSECon25 Workshop- Deploying a Web Application with Kubernetes" class="md-nav__button md-logo" aria-label="RSECon25 Workshop- Deploying a Web Application with Kubernetes" data-md-component="logo">
      
  <img src="../assets/CN-SIG-logo.png" alt="logo">

    </a>
    RSECon25 Workshop- Deploying a Web Application with Kubernetes
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/rosalindfranklininstitute/rsecon25-intro-to-kubernetes" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Deploying a Webservice with Kubernetes
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Introduction
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Introduction
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../why-kubernetes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Why kubernetes
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../kubernetes-architecture/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Introduction to Kubernetes Architecture
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Lessons
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Lessons
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../lesson0-kubernetes-dashboard/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lesson 0: Kubernetes Dashboard
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Lesson 1: Your First Deployment
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Lesson 1: Your First Deployment
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#prerequisites" class="md-nav__link">
    <span class="md-ellipsis">
      Prerequisites
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#building-the-container-image" class="md-nav__link">
    <span class="md-ellipsis">
      Building the Container Image
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#inspecting-the-manifest" class="md-nav__link">
    <span class="md-ellipsis">
      Inspecting the Manifest
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#application-deployment" class="md-nav__link">
    <span class="md-ellipsis">
      Application Deployment
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pods-and-logs" class="md-nav__link">
    <span class="md-ellipsis">
      Pods and Logs
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deletion-experiment" class="md-nav__link">
    <span class="md-ellipsis">
      Deletion Experiment
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#delving-into-deployments" class="md-nav__link">
    <span class="md-ellipsis">
      Delving into Deployments
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Delving into Deployments">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#replica-sets" class="md-nav__link">
    <span class="md-ellipsis">
      Replica Sets
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#self-healing-and-scaling" class="md-nav__link">
    <span class="md-ellipsis">
      Self-healing and Scaling
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ingress-production-ready-external-access" class="md-nav__link">
    <span class="md-ellipsis">
      Ingress: Production-Ready External Access
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#beyond-minikube-service" class="md-nav__link">
    <span class="md-ellipsis">
      Beyond minikube service
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#further-reading" class="md-nav__link">
    <span class="md-ellipsis">
      ðŸ“š Further Reading
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../lesson2-kubechaos-update/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lesson 2: Updating the Kubechaos App
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4" >
        
          
          <label class="md-nav__link" for="__nav_3_4" id="__nav_3_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Lessons 2 extension task
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_4">
            <span class="md-nav__icon md-icon"></span>
            Lessons 2 extension task
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../lesson2-kubechaos-extra/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Multiple Deployments
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../lesson3-config-maps/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lesson 3: Updating with ConfigMaps
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../lesson4-helm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lesson 4: Helm Charts
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#prerequisites" class="md-nav__link">
    <span class="md-ellipsis">
      Prerequisites
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#building-the-container-image" class="md-nav__link">
    <span class="md-ellipsis">
      Building the Container Image
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#inspecting-the-manifest" class="md-nav__link">
    <span class="md-ellipsis">
      Inspecting the Manifest
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#application-deployment" class="md-nav__link">
    <span class="md-ellipsis">
      Application Deployment
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pods-and-logs" class="md-nav__link">
    <span class="md-ellipsis">
      Pods and Logs
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deletion-experiment" class="md-nav__link">
    <span class="md-ellipsis">
      Deletion Experiment
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#delving-into-deployments" class="md-nav__link">
    <span class="md-ellipsis">
      Delving into Deployments
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Delving into Deployments">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#replica-sets" class="md-nav__link">
    <span class="md-ellipsis">
      Replica Sets
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#self-healing-and-scaling" class="md-nav__link">
    <span class="md-ellipsis">
      Self-healing and Scaling
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ingress-production-ready-external-access" class="md-nav__link">
    <span class="md-ellipsis">
      Ingress: Production-Ready External Access
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#beyond-minikube-service" class="md-nav__link">
    <span class="md-ellipsis">
      Beyond minikube service
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#further-reading" class="md-nav__link">
    <span class="md-ellipsis">
      ðŸ“š Further Reading
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="lesson-1-your-first-deployment">Lesson 1: Your First Deployment</h1>
<p>In this lesson we are going to deploy a simple web application, called
Kubechaos, on a minikube cluster.  This will demonstrate core Kubernetes
concepts including pods, deployments, and services.</p>
<h2 id="prerequisites">Prerequisites</h2>
<p>You will need a local clone of the Kubechaos repository:</p>
<pre><code>git clone https://github.com/rosalindfranklininstitute/rsecon25-intro-to-kubernetes.git
cd rsecon25-intro-to-kubernetes
</code></pre>
<p>Check your cluster from the previous lesson is still running
(<code>minikube start</code> if it is not):</p>
<pre><code>minikube status
</code></pre>
<h2 id="building-the-container-image">Building the Container Image</h2>
<p>Kubernetes runs applications in containers, but does not handle building
container images itself&mdash;it expects images to already be available.
Minikube provides a convenient build tool that allows us to
create a Docker image (defined in <code>image/Dockerfile</code>) for the Kubechaos app:</p>
<pre><code>minikube image build -t local/kubechaos:v1 image
</code></pre>
<p>The built image is stored in minikube's local registry, identified
in the output of the command <code>minikube image ls</code>
by the tag <code>local/kubchaos:v1</code>.</p>
<h2 id="inspecting-the-manifest">Inspecting the Manifest</h2>
<p>A Kubernetes manifest is a YAML file that defines the target state of
resources in a cluster. If you open <code>deployment/manifests.yaml</code>,
you'll see it contains definitions for:</p>
<ul>
<li>A Deployment (manages pods)</li>
<li>A Service (provides networking)</li>
<li>A ConfigMap (explored in lesson 3)</li>
</ul>
<p>Notice the image tag <code>local/kubechaos:v1</code> in the manifest
matches what we just built.</p>
<h2 id="application-deployment">Application Deployment</h2>
<p>The <code>kubectl apply</code> command deploys resources in manifest files to a cluster:</p>
<pre><code>kubectl apply -f deployment/manifests.yaml
</code></pre>
<p>For large applications, it can be useful to know when a pod is ready:</p>
<pre><code>kubectl wait --for=condition=ready pod -l app=kubechaos
</code></pre>
<blockquote>
<p>The <code>-l app=kubechaos</code> flag targets pods with the label <code>app=kubechaos</code>
seen in the manifest.</p>
</blockquote>
<p>You can now view the app in your browser by using minkube's service command to
create a proxy to the container:</p>
<pre><code>minikube service kubechaos-svc
</code></pre>
<p>Open the returned URL in your browser&mdash;every refresh is a new surprise ðŸŽ²</p>
<h2 id="pods-and-logs">Pods and Logs</h2>
<p>Let's examine what was created on the cluster. In the terminal, list
the running pods:</p>
<pre><code>kubectl get pods 
</code></pre>
<p>You will get output similar to:</p>
<pre><code>NAME                        READY   STATUS    RESTARTS   AGE
kubechaos-6d7ddd9cf-lvczb   1/1     Running   0          3s
</code></pre>
<p>Pods are the smallest unit of Kubernetes deployment. They
 represents one or more containers running together. 
In this case, we have a Kubechaos pod with a single (1/1) container running.
You can check the pod has also appeared in the Web Dashboard
under <code>Workloads &gt; Pods</code>.</p>
<p>To learn the status of the pod we can view the logs:</p>
<pre><code>kubectl logs kubechaos-&lt;id&gt;
</code></pre>
<p>where you will need to replace <code>&lt;id&gt;</code> with the unique identifier 
that was shown under <code>NAME</code> when you ran the <code>get pods</code> command.
You will see a record of the node.js app starting inside
the container:</p>
<pre><code>&gt; kubechaos@1.0.0 start
&gt; node app.js

Server running at http://localhost:3000
</code></pre>
<p>Note that the URL here refers to an internal port of the container, which
is different from the port the minikube proxy exposed on 
your localhost for accessing the service from outside the cluster.
In general
Kubernetes keeps the internal container network separate from
external access, and you need to explicitly configure how services can be
reached from outside the cluster (see <a href="#ingress-production-ready-external-access">Ingress</a>
below).</p>
<h2 id="deletion-experiment">Deletion Experiment</h2>
<p>Let's see what happens if we delete the pod from the cluster:</p>
<pre><code>kubectl delete pod &lt;pod-name&gt;
</code></pre>
<p>Now run <code>kubectl get pods</code> again, what do you notice?</p>
<p>You will see that a new pod, with a different unique-identifier, 
was started in place of the removed one. This <em>self-healing</em> is a key
feature of Kubernetes' deployments.</p>
<h2 id="delving-into-deployments">Delving into Deployments</h2>
<p>A Deployment is a Kubernetes resource that manages the desired state of an
application. Looking back at the manifest file (deployment/manifests.yaml), the
Deployment section defined how many replicas of the application container should run,
which image to use, and further configuration.  This is an
example of a <em>declarative</em> approach: you declare the target state, and
Kubernetes figures out how to attain&mdash;and then maintain&mdash;it.</p>
<h3 id="replica-sets">Replica Sets</h3>
<p>Deployments don't directly manage pods. Instead, they work through <em>ReplicaSets</em>
which are responsible for creating the individual pods. In summary,</p>
<p><strong>Deployment â†’ ReplicaSet â†’ Pods</strong></p>
<p>Where <em>Deployment</em> defines the target state, <em>ReplicaSet</em>
ensures the correct number of replicas are alive, and <em>Pods</em> are the
actual App instances.</p>
<h3 id="self-healing-and-scaling">Self-healing and Scaling</h3>
<p>We have already seen self-healing in action: when a pod was deleted the
ReplicaSet detected the live state (0 pods) didn't match the 
desired state (1 pod) and so created a replacement. This automatic recovery ensures
applications can remain available even when individual pods fail.</p>
<p>Another key feature of Kubernetes' deployments is <em>scaling</em>. Suppose we want
to scale up to three replicas to support more concurrent requests or ensure
better availability.</p>
<p>First, let's set up a watch to monitor the pods in real-time:</p>
<pre><code>kubectl get pods -w
</code></pre>
<p>Next, in a new terminal, run the following <code>kubectl scale</code> command:</p>
<pre><code>kubectl scale deployment kubechaos --replicas=3
</code></pre>
<p>In the first terminal you will see in two additional replicas being spun up
immediately! You can verify the new state with <code>kubectl get deployment</code>
or by reviewing the Deployments/Pods page in the Web Dashboard.</p>
<h2 id="ingress-production-ready-external-access">Ingress: Production-Ready External Access</h2>
<p>In networking terminology, "ingress" refers to incoming traffic, and "egress"
outgoing traffic. For infrastructure and cloud computing, ingress describes
how external clients access services running inside a protected network.</p>
<p>You won't be surprised to learn that Ingress in Kubernetes is also a resource.
Specifically, it
defines rules for routing HTTP/HTTPS traffic from outside the cluster to
services within it. These rules are implemented by a load balancer component
(like nginx) called an Ingress Controller. 
A simplified traffic flow is:</p>
<pre><code>External Client â†’ Ingress Controller + Rules â†’ Service â†’ Pod
</code></pre>
<p>where the Service groups pods running your application. </p>
<h2 id="beyond-minikube-service">Beyond minikube service</h2>
<p>Above, we used the <code>minikube service</code> command, which
creates a temporary proxy from your local machine to the application
containers.
While convenient for development, this approach is limited to basic port forwarding.</p>
<p>For production, you'll need the proper HTTPS routing with DNS,
SSL/TLS termination and advanced load balancing provided by
Kubernetes Ingress. Minikube supports Kubernetes Ingress with the
<code>ingress</code> add-on (see Further Reading).</p>
<h2 id="further-reading">ðŸ“š Further Reading</h2>
<ul>
<li><a href="https://kubernetes.io/docs/reference/kubectl/quick-reference/">Official kubectl Quick Reference</a></li>
<li><a href="https://www.tkng.io/">The Kubernetes Networking Guide</a> </li>
<li><a href="https://minikube.sigs.k8s.io/docs/handbook/addons/ingress-dns/#Linux">Ingress DNS minikube add-on</a></li>
</ul>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": ["instant"], "search": "../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.92b07e13.min.js"></script>
      
    
  </body>
</html>